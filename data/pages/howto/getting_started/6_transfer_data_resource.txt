---json
{
    "page_id": "fjkomnezcbbg34blw0od2"
}
---
====== Learning Tabulify - Step 6 - How to transfer Data Resources ======

===== Data Transfer =====
In ''Tabulify'', when you want to manipulate data, it's called a ''transfer''.

  * You want to [[docs:op:move|move]] data, you [[docs:op:transfer|transfer]]
  * You want to [[docs:op:copy|copy]] data, you [[docs:op:transfer|transfer]]
  * You want to [[docs:op:insert|insert]] data, you [[docs:op:transfer|transfer]]
  * You want to [[docs:op:update|update]] data, you [[docs:op:transfer|transfer]]
  * You want to [[docs:op:upsert|upsert]] data, you [[docs:op:transfer|transfer]]
  * You want to [[docs:op:delete|delete]] data, you [[docs:op:transfer|transfer]]

For data manipulation, the [[docs:tabul:data:transfer|transfer command]] is the only command you need.

The [[docs:tabul:data:transfer|transfer command]] is the most powerfull command and we will introduce it first with a [[docs:op:copy|copy]].

===== Sqlite HowTo Connection =====
''Tabulify'' comes pre-installed with [[docs:connection:connection|connections]] used in the [[howto:howto|HowTo]]. We call this connections, the [[docs:connection:howtos|Howto's connections]].

In this learning guide, we will use as target connection, the [[docs:connection:howtos|local sqlite how-to connection]]

<unit>
<code bash>
tabul connection info sqlite
</code>
<console height="300px" scroll="toggle">
Information about the connection (sqlite)
Attribute                    Value                                                 Description
--------------------------   ---------------------------------------------------   --------------------------------------------------------------------
BOOLEAN_DATA_TYPE            Native                                                Boolean data type used to store boolean values
BUILDER_CACHE_ENABLED        true                                                  Enable or disable the builder cache
COMMENT                      The sqlite default connection                         A connection description
CONNECTION_CLOSING_SCRIPT                                                          A script that runs before a connection is closed
CONNECTION_INIT_SCRIPT                                                             A script that runs after a connection has been established
DATABASE_MAJOR_VERSION                                                             The major version number of the database
DATABASE_MINOR_VERSION                                                             The minor version number of the database
DATABASE_PRODUCT_NAME                                                              The name of the database
DATABASE_PRODUCT_VERSION                                                           The version of the database
DATE_DATA_TYPE               NATIVE                                                Date data type used to store date values
DRIVER                       org.sqlite.JDBC                                       The jdbc driver class
DRIVER_NAME                                                                        The driver name
DRIVER_VERSION                                                                     The driver version
HOST                                                                               Host Server
JDBC_MAJOR_VERSION                                                                 The major version number of JDBC
JDBC_MINOR_VERSION                                                                 The minor version number of JDBC
MAX_CONCURRENT_THREAD                                                              The maximum number of threads that can be created against the system
MAX_NAME_IN_PATH                                                                   The maximum number of names in a path
NAME                         sqlite                                                The name of the connection
NAME_QUOTING_DISABLED_CASE   UPPERCASE                                             The case to apply when quoting is disabled
NAME_QUOTING_ENABLED         true                                                  Enable quoting of names
NATIVES                                                                            Native Driver attributes (jdbc properties, ...)
ORIGIN                       CONF                                                  The origin of the connection
PASSWORD                                                                           The user password
PORT                                                                               Host Port
SUPPORT_BATCH_UPDATES                                                              If the system supports batch SQL updates
SUPPORT_NAMED_PARAMETERS                                                           If the system supports named parameters in the SQL statement
TIMESTAMP_DATA_TYPE          NATIVE                                                Timestamp data type used to store timestamp values
TIME_DATA_TYPE               NATIVE                                                Time format data type to store time values
URI                          jdbc:sqlite:////home/tabulify/.tabul/sqlite.sqlite3   The uri of the connection
USER                                                                               The user name
VARCHAR_DEFAULT_PRECISION                                                          Default precision
WORKING_PATH                                                                       The working path (Schema for database, directory for file system)
</console>
</unit>



===== Copy =====

<unit display="none">
Just drop all tables
<code bash>
tabul data drop --not-strict *@sqlite
</code>
</unit>

For the purpose of this learning guide, we will [[docs:op:copy|copy]] the ''sales'' data from [[docs:system:tpcds|tpcds]] to the [[docs:connection:howtos|sqlite connection]] with the [[docs:tabul:data:copy|copy command]] that is an alias of the [[docs:tabul:data:transfer|transfer command]].



<unit>
<code bash>
tabul data copy --with-dependencies *sales@tpcds @sqlite
</code>
where:
  * ''tabul data copy'' points to the [[docs:tabul:data:copy|copy command]]
  * ''*sales@tpcds'' is a [[docs:resource:data_selector|data selector]] that select all table that ends with sales in the [[docs:system:tpcds|tpcds connection]] (<inote tip>We have covered this subject in the [[4_select_data_resources|how to select data resource page]]</inote>)
  * ''%%--with-dependencies%%'' select the [[docs:resource:dependency|dependencies]] of the selected [[docs:resource:resource|data resources]]
  * ''@sqlite'' defines the [[docs:connection:howtos|sqlite connection]] as the target connection

At the end of the process, you get a list of all tables where data were loaded and the number of row that were inserted.
<console>
Source                         Target                          Latency (ms)   Row Count   Error   Message
----------------------------   -----------------------------   ------------   ---------   -----   -------
call_center@tpcds              call_center@sqlite              16             2
catalog_page@tpcds             catalog_page@sqlite             193            11718
catalog_sales@tpcds            catalog_sales@sqlite            9254           89807
customer@tpcds                 customer@sqlite                 59             1000
customer_address@tpcds         customer_address@sqlite         46             1000
customer_demographics@tpcds    customer_demographics@sqlite    19153          1920800
date_dim@tpcds                 date_dim@sqlite                 5135           73049
household_demographics@tpcds   household_demographics@sqlite   56             7200
income_band@tpcds              income_band@sqlite              17             20
item@tpcds                     item@sqlite                     247            2000
promotion@tpcds                promotion@sqlite                17             3
ship_mode@tpcds                ship_mode@sqlite                19             20
store@tpcds                    store@sqlite                    18             2
store_sales@tpcds              store_sales@sqlite              6486           120527
time_dim@tpcds                 time_dim@sqlite                 991            86400
warehouse@tpcds                warehouse@sqlite                59             1
web_page@tpcds                 web_page@sqlite                 17             2
web_sales@tpcds                web_sales@sqlite                1232           11876
web_site@tpcds                 web_site@sqlite                 57             2
</console>
</unit>



===== Copy Verification =====

To check the ''copy'', we will list the [[docs:resource:table|tables]] in the [[docs:connection:howtos|sqlite connection]] with the [[docs:tabul:data:list|list command]] and the [[docs:resource:count|count attribute]] to see the number of rows by [[docs:resource:table|table]].


<unit>
<code bash>
tabul data list --attribute name --attribute count  *@sqlite
# or with short options
# tabul data list -a name -a count  *@sqlite
</code>
<console>
name                       count
----------------------   -------
call_center                    2
catalog_page               11718
catalog_sales              89807
customer                    1000
customer_address            1000
customer_demographics    1920800
date_dim                   73049
household_demographics      7200
income_band                   20
item                        2000
promotion                      3
ship_mode                     20
store                          2
store_sales               120527
time_dim                   86400
warehouse                      1
web_page                       2
web_sales                  11876
web_site                       2
</console>
</unit>

===== Next =====
Now, that we got data, we can discover how to execute a [[docs:resource:select|Sql Query]]

<btn>
[[7_query|How to execute a Sql Query]]
</btn>
