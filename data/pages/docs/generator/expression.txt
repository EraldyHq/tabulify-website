---json
{
    "page_id": "0xj7xu3xdj7mvqmt3rovo"
}
---
====== Expression Generator ======


===== About =====
A ''expression generator'' is a [[column|column data generator]] that can [[generator|generate]] data created from:
  * other columns (known as ''parent columns'')
  * by giving an ''expression (or formula)''.


===== Example =====

  * [[:howto:generator:expression]]
===== Syntax =====

<code yaml>
columns:
  - name: columnName
    DataGenerator:
      type: expression
      ColumnParents:
           - columnParentName1 # variable x
           - columnParentName2 # variable y
           - ...... # variable "z", "a", "b", "c", "d","e","f"
      expression: "javascriptExpression"  # See below for example
</code>



^ Mandatory Key ^  Description ^
| ''ColumnParents'' | The column generator used in the expression |
| ''expression'' | The expression in javascript where the parents columns maps by order to the following variables "x", "y", "z", "a", "b", "c", "d","e", "f" |

===== What are Expressions ?=====

Expressions are Javascript expressions.


Tabulify pass the data as native javascript [[:docs:common:data_type|data type]] in the variable `x`.
You don't need to instantiate `x`, tabulify do.

If the expression depends:
  * on a second column, the variable `y` is created,
  * on a third, the variable `z` is created
  * and so on.

Note:
  * For [[:docs:common:time|date/timestamp/time data type]], we create a [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date|Date]] as this is the only temporal data type of javascript.
  * For all numbers (Double, Integer, ...) , we create a [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] as this is also the only number data type of javascript.

Example for ''2009/10/01'', Tabulify would create the `x` variable like this:
<code javascript>
x = new Date("2009","10","01")
</code>
And if you want the month, you expression would use [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getMonth|getMonth]] :
<code javascript>
x.getMonth()+1
</code>



===== How to hide intermediate columns ?=====

When creating an expression generator, you may want to create columns that should not appear in the data generated.
For this purpose, you can use the ''hidden'' property.

Example:
<code yaml>
- name: columnToHide
  Hidden: true  # The column will not be added to the output.
  Description: An hidden column
  DataGenerator:
    type: entity
</code>






===== Data Type =====

The below [[:docs:common:data_type|data type]] are supported:

^ Data Type ^ Java script ^
| Integer | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] |
| Float | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] |
| Double | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] |
| Numeric | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] |
| Decimal | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number|Number]] |
| Date | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date|Date]] |
| Timestamp | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date|Date]] |
| Varchar | [[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String|String]] |

